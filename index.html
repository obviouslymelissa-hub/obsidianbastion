<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Obsidian Bastian — Onboard Systems</title>
  <meta name="description" content="Obsidian Bastian — onboard computer. Links to diagnostics and ship systems." />
  <style>
    /* Futuristic/spacey UI */
    :root{
      --bg:#05060a;
      --panel:rgba(255,255,255,0.035);
      --accent:#6ee7ff;
      --accent2:#9b8cff;
      --muted:rgba(255,255,255,0.6);
      color-scheme:dark;
      font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    }
    html,body{height:100%;margin:0}
    body{
      background:radial-gradient(1200px 600px at 10% 10%,rgba(75,85,99,0.06),transparent 8%),
                  radial-gradient(1000px 400px at 90% 90%,rgba(139,92,246,0.04),transparent 12%),
                  var(--bg);
      color:#dfe7f2;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;align-items:center;justify-content:center;padding:2rem;
    }
    .shell{width:100%;max-width:1100px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.04);border-radius:12px;padding:24px;box-shadow:0 8px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden}
    .stars{position:absolute;inset:0;pointer-events:none;opacity:.18;background-image:radial-gradient(#fff 0.8px, transparent 0.9px);background-size:3px 3px;mix-blend-mode:screen;filter:blur(0.6px)}
    header{display:flex;align-items:flex-start;gap:20px}
    .brand{display:flex;flex-direction:column}
    .shipname{font-size:28px;letter-spacing:1px;font-weight:700;display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56;border-radius:10px;background:linear-gradient(135deg,var(--accent2),var(--accent));display:flex;align-items:center;justify-content:center;font-weight:900;color:#04101a}
    .subtitle{font-size:12px;color:var(--muted);margin-top:6px}
    .controls{margin-left:auto;display:flex;gap:10px;align-items:center}
    .btn{background:var(--panel);border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:8px;color:var(--muted);text-decoration:none;font-size:13px;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#031323;border:none;box-shadow:0 6px 18px rgba(110,231,255,0.06)}
    main{display:grid;grid-template-columns:1fr 340px;gap:20px;margin-top:20px}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:10px;padding:16px;border:1px solid rgba(255,255,255,0.03);position:relative;overflow:hidden;min-height:120px;display:flex;flex-direction:column;gap:10px}
    .card h3{margin:0;font-size:14px}
    .card p{margin:0;color:var(--muted);font-size:13px}
    .card .action{margin-top:auto;display:flex;gap:8px}
    .link-card{display:flex;align-items:center;gap:12px}
    .link-card .icon{width:48px;height:48;border-radius:8px;background:linear-gradient(135deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent);}
    .link-card a{color:var(--accent);text-decoration:none;font-weight:600}
    .card:hover{transform:translateY(-6px);transition:transform .18s ease}
    .side{display:flex;flex-direction:column;gap:14px}
    .terminal{background:#02040a;border-radius:8px;padding:12px;color:#8fb7c7;font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:12px;height:170px;overflow:auto;border:1px solid rgba(110,231,255,0.04)}
    .links-list{display:flex;flex-direction:column;gap:8px}
    .nav-item{display:flex;align-items:center;gap:8px;padding:8px;border-radius:8px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
    .nav-item a{color:var(--accent);text-decoration:none;font-weight:600}
    .small{font-size:12px;color:var(--muted)}
    @media (max-width:880px){main{grid-template-columns:1fr;} .grid{grid-template-columns:repeat(1,1fr)} .side{order:2}}
    .scan{position:absolute;inset:0;background:linear-gradient(180deg,rgba(255,255,255,0.02) 0%, transparent 50%, rgba(255,255,255,0.02) 100%);mix-blend-mode:overlay;opacity:.04;pointer-events:none}
    .status-dot{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:8px;box-shadow:0 1px 4px rgba(0,0,0,0.6)}
    .status-ok{background:linear-gradient(90deg,#7ef5b6,#3bd17d)}
    .status-warn{background:linear-gradient(90deg,#ffd36b,#ff9f43)}
    .status-off{background:linear-gradient(90deg,#a7b1c9,#6b7280)}
  </style>
</head>
<body>
  <div class="shell" role="application" aria-label="Obsidian Bastian onboard computer">
    <div class="stars" aria-hidden="true"></div>
    <div class="scan" aria-hidden="true"></div>

    <header>
      <div class="brand">
        <div style="display:flex;align-items:center;gap:12px">
          <div class="logo">OB</div>
          <div>
            <div class="shipname">Obsidian Bastian <span style="font-size:12px;color:var(--muted);margin-left:8px">— Onboard Systems</span></div>
            <div class="subtitle">Mission Control Interface · Diagnostics hub</div>
          </div>
        </div>
      </div>

      <div class="controls" role="toolbar" aria-label="Controls">
        <button class="btn" id="refreshBtn" title="Refresh status">Refresh</button>
        <!-- Add button removed intentionally (read-only mode) -->
      </div>
    </header>

    <main>
      <section>
        <div class="grid" id="cards">
          <!-- Cards will be generated by JS -->
        </div>

        <div style="margin-top:14px;color:var(--muted);font-size:13px">
          Tip: This is a read-only systems dashboard. To add entries, edit index.html in the repository (or tell me and I can add them for you).
        </div>
      </section>

      <aside class="side" aria-label="Side panel">
        <div class="terminal" id="terminal" aria-live="polite">Initializing Obsidian Bastian mainframe...</div>

        <div>
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px"><strong>Systems</strong><span class="small">click to open</span></div>
          <div class="links-list" id="links"></div>
        </div>

      </aside>

    </main>

    <div style="position:absolute;left:20px;bottom:16px;color:var(--muted);font-size:12px">Obsidian Bastian · onboard computer</div>
  </div>

  <script>
    // Read-only systems list (edit this array in the file to add more)
    const systems = [
      {name: 'Mainframe Weather', url: './mainframeweather.html', status: 'ok'},
      {name: 'Diagnostics Console', url: './diagnostics.html', status: 'ok'},
      // Add more systems here by editing index.html:
      // {name: 'Navigation', url: './navigation.html', status: 'off'},
    ];

    const cardsEl = document.getElementById('cards');
    const linksEl = document.getElementById('links');
    const term = document.getElementById('terminal');

    function render(){
      cardsEl.innerHTML = '';
      linksEl.innerHTML = '';
      systems.forEach((s, i) => {
        const card = document.createElement('div');
        card.className = 'card';
        const statusClass = statusClassFor(s.status);
        const statusText = readableStatus(s.status);
        card.innerHTML = `
          <div class="link-card">
            <div class="icon">${initials(s.name)}</div>
            <div>
              <h3>${escapeHtml(s.name)}</h3>
              <p class="small">${escapeHtml(s.url)}</p>
            </div>
          </div>
          <div style="display:flex;align-items:center;gap:12px;margin-top:auto">
            <span class="status-dot ${statusClass}" title="Status: ${statusText}" aria-hidden="true"></span>
            <div style="flex:1;color:var(--muted);font-size:13px">${statusText}</div>
            <div class="action"><a class="btn" href="${s.url}" target="_blank" rel="noopener">Open</a></div>
          </div>
        `;
        cardsEl.appendChild(card);

        const nav = document.createElement('div');
        nav.className = 'nav-item';
        nav.innerHTML = `<div style="flex:1"><a href="${s.url}" target="_blank" rel="noopener">${escapeHtml(s.name)}</a><div class="small">${escapeHtml(s.url)}</div></div>`;
        linksEl.appendChild(nav);
      });
    }

    // Helpers
    function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
    function initials(s){ return (s||'').split(' ').map(x=>x[0]).join('').substring(0,2).toUpperCase(); }
    function statusClassFor(st){
      if(st === 'ok') return 'status-ok';
      if(st === 'warn') return 'status-warn';
      return 'status-off';
    }
    function readableStatus(st){
      if(st === 'ok') return 'Online · Nominal';
      if(st === 'warn') return 'Degraded · Check';
      return 'Offline · Unavailable';
    }

    // Terminal simulation
    function writeTerminal(msg){ const now = new Date().toLocaleTimeString(); term.innerText = now + ' · ' + msg + '\n' + term.innerText; }
    document.getElementById('refreshBtn').addEventListener('click', ()=>{
      writeTerminal('Manual status refresh — ' + new Date().toLocaleString());
      // simulate status checks and update cards' statuses visually (no persistent change)
      setTimeout(()=>writeTerminal('Sensors: OK | Power: 98% | Hull: Nominal'), 300);
      setTimeout(()=>writeTerminal('Comms: Link stable | Nav: Offline (simulation)'), 700);
    });

    (function boot(){
      const steps = ['Bootloader OK', 'Kernel loaded', 'Subsystems enumerated', 'Diagnostics ready', 'Comm channels initialized'];
      steps.forEach((s,i)=>setTimeout(()=>writeTerminal(s), i*300));
      setTimeout(()=>{ render(); writeTerminal('Ready — read-only systems registry loaded.'); }, steps.length*320);
    })();

    // Optionally allow opening a system via #open=index
    if(location.hash.startsWith('#open=')){
      const idx = Number(location.hash.replace('#open=',''));
      if(systems[idx]) window.open(systems[idx].url, '_blank');
    }
  </script>
</body>
</html>