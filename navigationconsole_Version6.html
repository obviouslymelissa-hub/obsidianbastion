<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Navigation Console — Universal</title>
  <link rel="stylesheet" href="app.css">
</head>
<body>
  <div class="app">
    <header class="app-header">
      <h1>Universal Navigation Console</h1>
      <div class="header-actions">
        <a href="/" style="color: var(--accent, #4fd1c5); text-decoration: none; margin-right: 1rem;">← Back to Command Hub</a>
        <input id="search" placeholder="Search systems or planets…" aria-label="Search systems and planets" />
      </div>
    </header>

    <!-- Large separate map -->
    <div id="mapLarge" class="map-large panel" aria-label="Navigation Map">
      <svg id="mapSvgLarge" viewBox="0 0 1000 320" preserveAspectRatio="xMidYMid meet" role="img" aria-label="Large star system map"></svg>
    </div>

    <!-- Overall travel/status banner -->
    <div id="overallStatus" class="status-banner muted">Status: Idle</div>

    <main class="grid">
      <aside class="panel systems" aria-label="Systems">
        <h2>Systems</h2>
        <div id="systemsList" class="list"></div>
      </aside>

      <section class="panel planets" aria-label="Planets">
        <h2 id="systemTitle">Select a system</h2>
        <div id="planetsList" class="list"></div>
      </section>

      <aside class="panel details" aria-label="Details">
        <div id="locationBadge">Location: —</div>
        <div id="detailsCard">
          <h3 id="planetName">—</h3>
          <div id="planetSummary">—</div>
          <div class="meta">
            <div><strong>Type</strong> <span id="planetType">—</span></div>
            <div><strong>Orbit</strong> <span id="planetOrbit">—</span></div>
            <div><strong>Radius</strong> <span id="planetRadius">—</span></div>
          </div>

          <div class="controls">
            <button id="travelBtn" class="btn">Travel</button>
            <button id="shareBtn" class="btn">Share</button>
          </div>

          <div id="travelState" class="muted">Idle</div>

        </div>
      </aside>
    </main>

    <!-- Custom location / travel mode panel (separate section) -->
    <section class="panel custom" aria-label="Custom Location" style="max-width:1100px;margin:18px auto 28px;display:block">
      <h3>Go to a custom location</h3>
      <div style="display:flex;gap:8px;align-items:center">
        <input id="customGotoInput" placeholder="Type location (e.g. Earth, Sol-03b, Kepler-452/Kepler-452b)" style="flex:1;padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--text)" />
        <select id="travelModeSelect" title="Travel mode" style="padding:8px;border-radius:6px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text)">
          <option value="regular">Regular</option>
          <option value="warp">Warp</option>
          <option value="hyper">Hyperwarp</option>
        </select>
        <button id="customGotoBtn" class="btn">Go</button>
      </div>
      <div class="small-muted" style="margin-top:8px">Regular = steady transit. Warp = faster with pulse. Hyperwarp = near-instant flash.</div>

      <!-- NEW: Custom locations list (separate from middle planets list) -->
      <div style="margin-top:12px">
        <h4 style="margin:6px 0">Saved custom locations</h4>
        <div id="customList" class="list small-muted">No custom locations yet — create one with the Go button.</div>
      </div>
    </section>

    <footer class="app-footer">
      <small>Prototype — works from file:// (embedded catalog) or hosted (will fetch systems.json if present)</small>
    </footer>
  </div>

  <!-- Embedded catalog fallback so the page works when opened via file:// without a server -->
  <script>
    window.__CATALOG__ = {
      "systems": [
        {
          "id": "Sol",
          "name": "Sol",
          "coords": [100, 80],
          "star": { "name": "Sun (G2V)", "class": "G", "luminosityFactor": 1 },
          "planets": [
            { "id": "Sol-01b", "name": "Mercury", "index": 1, "orbitalAU": 0.39, "radiusEarth": 0.383, "massEarth": 0.055, "type": "Terrestrial", "summary": "Small, cratered rocky world." },
            { "id": "Sol-03b", "name": "Earth", "index": 3, "orbitalAU": 1.00, "radiusEarth": 1.00, "massEarth": 1.00, "type": "Terrestrial", "summary": "Blue planet with abundant life." },
            { "id": "Sol-04b", "name": "Mars", "index": 4, "orbitalAU": 1.52, "radiusEarth": 0.53, "massEarth": 0.107, "type": "Terrestrial", "summary": "Red dusty world with polar caps." }
          ]
        },
        {
          "id": "Kepler-452",
          "name": "Kepler-452",
          "coords": [420, 80],
          "star": { "name": "Kepler-452", "class": "G", "luminosityFactor": 1.15 },
          "planets": [
            { "id": "Kepler-452-01b", "name": "Kepler-452b", "index": 1, "orbitalAU": 1.05, "radiusEarth": 1.6, "massEarth": 5.0, "type": "Super-Earth", "summary": "Potentially habitable super-Earth." }
          ]
        }
      ]
    };
  </script>

  <script type="module" src="app.js"></script>
</body>
</html>